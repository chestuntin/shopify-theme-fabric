{%- comment -%}
  ----------------------------------------------------------------------------------
  SECTION: CTA THREE (KULTJUR)
  ----------------------------------------------------------------------------------
  A responsive, accessible section rendering three CTA buttons.
  
  Class Prefix: .kultjur-cta
  
  Breakpoints:
  - Mobile: < 768px (Stacked vertical)
  - Tablet: 768px - 1023px (2 columns)
  - Desktop: >= 1024px (3 columns inline)
  
  Configuration:
  - Typography: Inter font stack, responsive sizing
  - Padding, colors, button dimensions all theme-editable
  - WCAG AA compliant color contrast
  ----------------------------------------------------------------------------------
{%- endcomment -%}

{%- if section.settings.show_section -%}

<style>
  /* ============================================================
     KULTJUR CTA THREE - SCOPED STYLES
     ============================================================ */

  .kultjur-cta-three {
    /* CSS Variables for theme editor control */
    --bg-color: {{ section.settings.bg_color | default: '#f7f7f7' }};
    --text-color: {{ section.settings.text_color | default: '#000000' }};
    --subtext-color: {{ section.settings.subtext_color | default: '#444444' }};
    --btn-bg: {{ section.settings.btn_bg_color | default: '#0a0a0a' }};
    --btn-text: {{ section.settings.btn_text_color | default: '#ffffff' }};
    --btn-radius: {{ section.settings.btn_radius | default: 6 }}px;
    --btn-height-mobile: {{ section.settings.btn_height_mobile | default: 44 }}px;
    --btn-height-tablet: {{ section.settings.btn_height_tablet | default: 44 }}px;
    --btn-height-desktop: {{ section.settings.btn_height_desktop | default: 48 }}px;
    
    /* Responsive padding (mobile default) */
    padding: {{ section.settings.padding_mobile | default: 32 }}px 24px;
    background-color: var(--bg-color);
    width: 100%;
  }

  .kultjur-cta-three__inner {
    margin: 0 auto;
    width: 100%;
  }

  /* Text container - max 720px */
  .kultjur-cta-three__text {
    max-width: 720px;
    margin: 0 auto 28px;
    text-align: {{ section.settings.text_alignment | default: 'center' }};
  }

  /* Heading - responsive typography */
  .kultjur-cta--heading {
    font-family: Inter, "Helvetica Neue", Arial, sans-serif;
    font-size: 1.75rem; /* Mobile default */
    font-weight: 600;
    line-height: 1.08;
    color: var(--text-color);
    margin: 0 0 12px 0;
  }

  /* Subheading */
  .kultjur-cta--sub {
    font-family: Inter, "Helvetica Neue", Arial, sans-serif;
    font-size: 1rem;
    line-height: 1.6;
    color: var(--subtext-color);
    max-width: 680px;
    margin: 0 auto;
  }

  /* CTA Grid - Mobile: single column */
  .kultjur-cta--grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    width: 100%;
  }

  /* Button base styles */
  .kultjur-cta--btn {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    text-decoration: none;
    font-family: Inter, "Helvetica Neue", Arial, sans-serif;
    font-size: 0.9375rem;
    font-weight: 600;
    letter-spacing: 0.02em;
    color: var(--btn-text);
    background-color: var(--btn-bg);
    border: none;
    border-radius: var(--btn-radius);
    height: var(--btn-height-mobile);
    padding: 0 28px;
    box-sizing: border-box;
    cursor: pointer;
    transition: transform 0.18s ease, box-shadow 0.18s ease;
    box-shadow: 0 6px 18px rgba(10, 10, 10, 0.06);
    width: 100%; /* Full width in grid */
  }

  /* Hover state */
  .kultjur-cta--btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 24px rgba(10, 10, 10, 0.08);
  }

  /* Focus state - keyboard accessibility */
  .kultjur-cta--btn:focus {
    outline: 3px solid rgba(8, 112, 255, 0.12);
    outline-offset: 3px;
  }

  .kultjur-cta--btn:focus:not(:focus-visible) {
    outline: none;
  }

  .kultjur-cta--btn:focus-visible {
    outline: 3px solid rgba(8, 112, 255, 0.12);
    outline-offset: 3px;
  }

  /* Active state */
  .kultjur-cta--btn:active {
    transform: translateY(-1px);
  }

  /* ============================================================
     TABLET BREAKPOINT: 768px - 1023px
     ============================================================ */
  @media (min-width: 768px) and (max-width: 1023px) {
    .kultjur-cta-three {
      padding: {{ section.settings.padding_tablet | default: 48 }}px 40px;
    }

    .kultjur-cta--heading {
      font-size: 2rem;
    }

    .kultjur-cta--grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .kultjur-cta--btn {
      height: var(--btn-height-tablet);
    }
  }

  /* ============================================================
     DESKTOP BREAKPOINT: >= 1024px
     ============================================================ */
  @media (min-width: 1024px) {
    .kultjur-cta-three {
      padding: {{ section.settings.padding_desktop | default: 56 }}px 64px;
    }

    .kultjur-cta--heading {
      font-size: 2.25rem;
    }

    .kultjur-cta--grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    .kultjur-cta--btn {
      height: var(--btn-height-desktop);
    }
  }

  /* Prefers reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .kultjur-cta--btn {
      transition: none;
    }
  }
</style>

<section 
  class="kultjur-cta-three" 
  data-section-id="{{ section.id }}"
  aria-label="{% if section.settings.heading != blank %}{{ section.settings.heading | escape }}{% else %}Call to action{% endif %}"
>
  <div class="kultjur-cta-three__inner">
    
    {%- comment -%} Text content (heading + subheading) {%- endcomment -%}
    {%- if section.settings.heading != blank or section.settings.subheading != blank -%}
      <div class="kultjur-cta-three__text">
        {%- if section.settings.heading != blank -%}
          <h2 class="kultjur-cta--heading">{{ section.settings.heading | escape }}</h2>
        {%- endif -%}
        {%- if section.settings.subheading != blank -%}
          <div class="kultjur-cta--sub">
            {{ section.settings.subheading }}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    {%- comment -%} CTA Grid {%- endcomment -%}
    <nav class="kultjur-cta--grid" aria-label="Quick navigation">
      
      {%- comment -%} Button 1: Offerings {%- endcomment -%}
      {%- if section.settings.btn1_label != blank -%}
        <a 
          href="{{ section.settings.btn1_link | default: '/collections/offerings' }}" 
          class="kultjur-cta--btn"
          {% if section.settings.btn1_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
          aria-label="{{ section.settings.btn1_label | escape }}"
          data-ga="cta-offerings"
        >
          {{ section.settings.btn1_label | escape }}
        </a>
      {%- endif -%}

      {%- comment -%} Button 2: Story {%- endcomment -%}
      {%- if section.settings.btn2_label != blank -%}
        <a 
          href="{{ section.settings.btn2_link | default: '/pages/story' }}" 
          class="kultjur-cta--btn"
          {% if section.settings.btn2_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
          aria-label="{{ section.settings.btn2_label | escape }}"
          data-ga="cta-story"
        >
          {{ section.settings.btn2_label | escape }}
        </a>
      {%- endif -%}

      {%- comment -%} Button 3: Contact {%- endcomment -%}
      {%- if section.settings.btn3_label != blank -%}
        <a 
          href="{{ section.settings.btn3_link | default: '/pages/contact' }}" 
          class="kultjur-cta--btn"
          {% if section.settings.btn3_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
          aria-label="{{ section.settings.btn3_label | escape }}"
          data-ga="cta-contact"
        >
          {{ section.settings.btn3_label | escape }}
        </a>
      {%- endif -%}

    </nav>
  </div>
</section>

{%- endif -%}

{% schema %}
{
  "name": "CTA Three Buttons",
  "settings": [
    {
      "type": "header",
      "content": "Section Visibility"
    },
    {
      "type": "checkbox",
      "id": "show_section",
      "label": "Show section",
      "default": true
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Explore Kultjur"
    },
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Discover our world through our offerings, story, and expertise.</p>"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "Button 1 - Offerings"
    },
    {
      "type": "text",
      "id": "btn1_label",
      "label": "Label",
      "default": "Offerings"
    },
    {
      "type": "url",
      "id": "btn1_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "btn1_new_tab",
      "label": "Open in new tab",
      "default": false
    },
    {
      "type": "header",
      "content": "Button 2 - Story"
    },
    {
      "type": "text",
      "id": "btn2_label",
      "label": "Label",
      "default": "Story"
    },
    {
      "type": "url",
      "id": "btn2_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "btn2_new_tab",
      "label": "Open in new tab",
      "default": false
    },
    {
      "type": "header",
      "content": "Button 3 - Contact"
    },
    {
      "type": "text",
      "id": "btn3_label",
      "label": "Label",
      "default": "Contact"
    },
    {
      "type": "url",
      "id": "btn3_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "btn3_new_tab",
      "label": "Open in new tab",
      "default": false
    },
    {
      "type": "header",
      "content": "Layout & Spacing"
    },
    {
      "type": "range",
      "id": "padding_mobile",
      "min": 16,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Vertical Padding (Mobile)",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_tablet",
      "min": 24,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Vertical Padding (Tablet)",
      "default": 48
    },
    {
      "type": "range",
      "id": "padding_desktop",
      "min": 32,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Vertical Padding (Desktop)",
      "default": 56
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#f7f7f7"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "subtext_color",
      "label": "Subheading Color",
      "default": "#444444"
    },
    {
      "type": "color",
      "id": "btn_bg_color",
      "label": "Button Background",
      "default": "#0a0a0a"
    },
    {
      "type": "color",
      "id": "btn_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Button Dimensions"
    },
    {
      "type": "range",
      "id": "btn_radius",
      "min": 0,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 6
    },
    {
      "type": "range",
      "id": "btn_height_mobile",
      "min": 40,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Button Height (Mobile)",
      "default": 44
    },
    {
      "type": "range",
      "id": "btn_height_tablet",
      "min": 40,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Button Height (Tablet)",
      "default": 44
    },
    {
      "type": "range",
      "id": "btn_height_desktop",
      "min": 44,
      "max": 64,
      "step": 2,
      "unit": "px",
      "label": "Button Height (Desktop)",
      "default": 48
    }
  ],
  "presets": [
    {
      "name": "CTA Three Buttons"
    }
  ]
}
{% endschema %}

{%- comment -%}
  ----------------------------------------------------------------------------------
  QA / TEST CHECKLIST
  ----------------------------------------------------------------------------------
  
  [ ] RESPONSIVE LAYOUT
      Desktop (1440px): 3 buttons in one row, 48px height
      Tablet (834px): 2 buttons top row, 1 button bottom row (same width)
      Mobile (375px): 3 buttons stacked, 44px height, full width

  [ ] KEYBOARD ACCESSIBILITY
      Tab through all 3 buttons
      Focus ring visible (light blue outline)
      Enter/Space activates link

  [ ] COLOR CONTRAST
      Button text (#ffffff) on button bg (#0a0a0a): passes WCAG AA
      Heading (#000000) on bg (#f7f7f7): passes WCAG AA
      Subheading (#444444) on bg (#f7f7f7): passes WCAG AA

  [ ] ANALYTICS
      Inspect buttons for data-ga attributes:
      - cta-offerings
      - cta-story
      - cta-contact

  [ ] THEME EDITOR
      Toggle background color
      Adjust button radius (0-24px)
      Adjust padding (mobile/tablet/desktop)
      Change button heights

  [ ] HOVER & INTERACTIONS
      Desktop hover: button lifts slightly with shadow
      Mobile tap: no double-tap delay
      Active state: button depresses slightly

  ----------------------------------------------------------------------------------
{%- endcomment -%}
